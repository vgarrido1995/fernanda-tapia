// Translations for Spanish and English
const translations = {
    es: {
        // Navigation
        'nav-inicio': 'Inicio',
        'nav-sobre-mi': 'Sobre Mí',
        'nav-trayectoria': 'Trayectoria',
        'nav-sponsors': 'Sponsors',
        'nav-servicios': 'Servicios',
        'nav-galeria': 'Galería',
        'nav-contacto': 'Contacto',
        
        // Hero
        'hero-subtitle': 'Triatleta Semi-Pro · Profesora de Educación Física · Licenciada en Educación',
        'hero-description': 'Ex Seleccionada Nacional de Baloncesto y Ciclismo en Ruta. Profesora de Educación Física dedicada a impulsar el rendimiento deportivo.',
        'hero-btn-services': 'Mis Servicios',
        'hero-btn-contact': 'Contáctame',
        'stat-disciplines': 'Disciplinas',
        'stat-years': 'Años en Deporte',
        'stat-competitions': 'Competencias',
        
        // About
        'about-tag': 'Conóceme',
        'about-title': 'Sobre Mí',
        'about-subtitle': 'Pasión por el deporte de alto rendimiento',
        'about-p1': 'Desde los 11 años, he estado involucrada en el mundo del deporte. Comencé mi camino en el baloncesto, y a los 14 años logré llegar al alto rendimiento, siendo seleccionada nacional.',
        'about-p2': 'Durante mi trayectoria en el baloncesto, tuve el honor de representar a mi país en varios torneos internacionales, como los Sudamericanos, los Juegos Sudamericanos, la Copa América y el Mundial, experiencias que me han marcado profundamente.',
        'about-p3': 'Más adelante, descubrí el ciclismo de ruta y me enamoré de esta disciplina. Participé en varias Vueltas Nacionales y conseguí la medalla de plata en la prueba de contrarreloj en el Campeonato Nacional, lo que me permitió formar parte de la selección nacional para el Panamericano específico de ruta.',
        'about-p4': 'Hoy en día, estoy lista para un nuevo desafío. Mi objetivo es cambiar de rumbo e involucrarme en el triatlón, una disciplina que me motiva y me entusiasma para seguir creciendo como atleta.',
        'about-dob-label': 'Fecha de Nacimiento',
        'about-dob-value': '28 de Marzo, 1993',
        'about-nationality-label': 'Nacionalidad',
        'about-nationality-value': 'Chilena',
        'about-profession-label': 'Profesión',
        'about-profession-value': 'Profesora de Educación Física',
        'experience-years': 'años de experiencia',
        
        // Career
        'career-tag': 'Mi Historia',
        'career-title': 'Trayectoria Deportiva',
        'tab-triatlon': 'Triatlón',
        'tab-ciclismo': 'Ciclismo',
        'tab-baloncesto': 'Baloncesto',
        'triatlon-badge': 'Semi-Pro - Categoría 30-34 años',
        'cycling-badge': 'Ex Seleccionada Nacional',
        'basketball-badge': 'Ex Seleccionada Nacional',
        'objectives-title': 'Calendario y Objetivos 2026-2027',
        
        // Sponsors
        'sponsors-tag': 'Confían en mí',
        'sponsors-title': 'Mis Auspiciadores',
        
        // Services
        'services-tag': 'Lo que ofrezco',
        'services-title': 'Mis Servicios',
        'services-subtitle': 'Servicios profesionales para mejorar tu rendimiento deportivo',
        'service1-title': 'Preparación Física',
        'service1-desc': 'Entrenamiento personalizado enfocado en mejorar tu condición física, fuerza, resistencia y flexibilidad para alcanzar tus objetivos deportivos.',
        'service1-f1': 'Evaluación inicial completa',
        'service1-f2': 'Plan de entrenamiento personalizado',
        'service1-f3': 'Seguimiento y ajustes continuos',
        'service1-f4': 'Enfoque en prevención de lesiones',
        'service2-title': 'Bikefit Profesional',
        'service2-desc': 'Ajuste biomecánico profesional de tu bicicleta para optimizar rendimiento, comodidad y prevenir lesiones. Ideal para ciclistas y triatletas.',
        'service2-f1': 'Análisis biomecánico completo',
        'service2-f2': 'Ajuste de posición óptima',
        'service2-f3': 'Recomendaciones de equipamiento',
        'service2-f4': 'Seguimiento post-ajuste',
        'service3-title': 'Entrenamiento Triatlón',
        'service3-desc': 'Coaching integral para triatletas de todos los niveles. Planificación de las tres disciplinas con enfoque en tu desarrollo progresivo.',
        'service3-f1': 'Natación, ciclismo y carrera',
        'service3-f2': 'Planificación de temporada',
        'service3-f3': 'Preparación para competencias',
        'service3-f4': 'Nutrición y recuperación',
        'service-btn': 'Consultar',
        'popular': 'Popular',
        
        // Gallery
        'gallery-tag': 'Momentos',
        'gallery-title': 'Galería',
        
        // Contact
        'contact-tag': 'Hablemos',
        'contact-title': 'Contacto',
        'contact-desc': '¿Listo para llevar tu rendimiento al siguiente nivel? Contáctame y comencemos a trabajar juntos en tus objetivos deportivos.',
        'form-name': 'Nombre completo',
        'form-email': 'Email',
        'form-phone': 'Teléfono (opcional)',
        'form-service': 'Servicio de interés',
        'form-message': 'Tu mensaje',
        'form-submit': 'Enviar mensaje',
        'form-opt1': 'Preparación Física',
        'form-opt2': 'Bikefit Profesional',
        'form-opt3': 'Entrenamiento Triatlón',
        'form-opt4': 'Otro',
        
        // Footer
        'footer-tagline': 'Triatleta · Entrenadora · Preparadora Física',
        'footer-rights': '2026 Fernanda Tapia Santander. Todos los derechos reservados.'
    },
    en: {
        // Navigation
        'nav-inicio': 'Home',
        'nav-sobre-mi': 'About Me',
        'nav-trayectoria': 'Career',
        'nav-sponsors': 'Sponsors',
        'nav-servicios': 'Services',
        'nav-galeria': 'Gallery',
        'nav-contacto': 'Contact',
        
        // Hero
        'hero-subtitle': 'Semi-Pro Triathlete · Physical Education Teacher · Education Graduate',
        'hero-description': 'Former National Team Member in Basketball and Road Cycling. Physical Education Teacher dedicated to boosting sports performance.',
        'hero-btn-services': 'My Services',
        'hero-btn-contact': 'Contact Me',
        'stat-disciplines': 'Disciplines',
        'stat-years': 'Years in Sports',
        'stat-competitions': 'Competitions',
        
        // About
        'about-tag': 'Get to Know Me',
        'about-title': 'About Me',
        'about-subtitle': 'Passion for high-performance sports',
        'about-p1': 'Since the age of 11, I have been involved in the world of sports. I started my path in basketball, and at 14 I reached high performance level, becoming a national team member.',
        'about-p2': 'During my basketball career, I had the honor of representing my country in several international tournaments, such as the South Americans, the South American Games, the Copa America, and the World Championship, experiences that have marked me deeply.',
        'about-p3': 'Later, I discovered road cycling and fell in love with this discipline. I participated in several National Tours and won the silver medal in the time trial at the National Championship, which allowed me to be part of the national team for the Pan American Road Specific.',
        'about-p4': 'Today, I am ready for a new challenge. My goal is to change direction and get involved in triathlon, a discipline that motivates and excites me to continue growing as an athlete.',
        'about-dob-label': 'Date of Birth',
        'about-dob-value': 'March 28, 1993',
        'about-nationality-label': 'Nationality',
        'about-nationality-value': 'Chilean',
        'about-profession-label': 'Profession',
        'about-profession-value': 'Physical Education Teacher',
        'experience-years': 'years of experience',
        
        // Career
        'career-tag': 'My Story',
        'career-title': 'Sports Career',
        'tab-triatlon': 'Triathlon',
        'tab-ciclismo': 'Cycling',
        'tab-baloncesto': 'Basketball',
        'triatlon-badge': 'Semi-Pro - Category 30-34 years',
        'cycling-badge': 'Former National Team Member',
        'basketball-badge': 'Former National Team Member',
        'objectives-title': 'Calendar and Objectives 2026-2027',
        
        // Sponsors
        'sponsors-tag': 'They Trust Me',
        'sponsors-title': 'My Sponsors',
        
        // Services
        'services-tag': 'What I Offer',
        'services-title': 'My Services',
        'services-subtitle': 'Professional services to improve your sports performance',
        'service1-title': 'Physical Preparation',
        'service1-desc': 'Personalized training focused on improving your physical condition, strength, endurance, and flexibility to achieve your sports goals.',
        'service1-f1': 'Complete initial assessment',
        'service1-f2': 'Personalized training plan',
        'service1-f3': 'Continuous monitoring and adjustments',
        'service1-f4': 'Focus on injury prevention',
        'service2-title': 'Professional Bikefit',
        'service2-desc': 'Professional biomechanical adjustment of your bike to optimize performance, comfort, and prevent injuries. Ideal for cyclists and triathletes.',
        'service2-f1': 'Complete biomechanical analysis',
        'service2-f2': 'Optimal position adjustment',
        'service2-f3': 'Equipment recommendations',
        'service2-f4': 'Post-adjustment follow-up',
        'service3-title': 'Triathlon Training',
        'service3-desc': 'Comprehensive coaching for triathletes of all levels. Planning of the three disciplines with focus on your progressive development.',
        'service3-f1': 'Swimming, cycling, and running',
        'service3-f2': 'Season planning',
        'service3-f3': 'Competition preparation',
        'service3-f4': 'Nutrition and recovery',
        'service-btn': 'Inquire',
        'popular': 'Popular',
        
        // Gallery
        'gallery-tag': 'Moments',
        'gallery-title': 'Gallery',
        
        // Contact
        'contact-tag': 'Let\'s Talk',
        'contact-title': 'Contact',
        'contact-desc': 'Ready to take your performance to the next level? Contact me and let\'s start working together on your sports goals.',
        'form-name': 'Full name',
        'form-email': 'Email',
        'form-phone': 'Phone (optional)',
        'form-service': 'Service of interest',
        'form-message': 'Your message',
        'form-submit': 'Send message',
        'form-opt1': 'Physical Preparation',
        'form-opt2': 'Professional Bikefit',
        'form-opt3': 'Triathlon Training',
        'form-opt4': 'Other',
        
        // Footer
        'footer-tagline': 'Triathlete · Coach · Physical Trainer',
        'footer-rights': '2026 Fernanda Tapia Santander. All rights reserved.'
    }
};

let currentLang = 'es';

function switchLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('preferredLang', lang);
    
    // Update nav links
    document.querySelectorAll('.nav-link').forEach(link => {
        const key = link.getAttribute('data-' + lang);
        if (key) link.textContent = key;
    });
    
    // Update hero subtitle
    const heroSubtitle = document.querySelector('.hero-subtitle');
    if (heroSubtitle) heroSubtitle.textContent = translations[lang]['hero-subtitle'];
    
    // Update hero description
    const heroDesc = document.querySelector('.hero-description');
    if (heroDesc) heroDesc.textContent = translations[lang]['hero-description'];
    
    // Update hero buttons
    const heroButtons = document.querySelectorAll('.hero-buttons .btn');
    if (heroButtons[0]) heroButtons[0].textContent = translations[lang]['hero-btn-services'];
    if (heroButtons[1]) heroButtons[1].textContent = translations[lang]['hero-btn-contact'];
    
    // Update stats
    const statLabels = document.querySelectorAll('.stat-label');
    if (statLabels[0]) statLabels[0].textContent = translations[lang]['stat-disciplines'];
    if (statLabels[1]) statLabels[1].textContent = translations[lang]['stat-years'];
    if (statLabels[2]) statLabels[2].textContent = translations[lang]['stat-competitions'];
    
    // Update about section
    const aboutSection = document.querySelector('#sobre-mi');
    if (aboutSection) {
        const tag = aboutSection.querySelector('.section-tag');
        const title = aboutSection.querySelector('.section-title');
        const aboutSubtitle = aboutSection.querySelector('.about-text h3');
        const paragraphs = aboutSection.querySelectorAll('.about-text > p');
        
        if (tag) tag.textContent = translations[lang]['about-tag'];
        if (title) title.textContent = translations[lang]['about-title'];
        if (aboutSubtitle) aboutSubtitle.textContent = translations[lang]['about-subtitle'];
        if (paragraphs[0]) paragraphs[0].textContent = translations[lang]['about-p1'];
        if (paragraphs[1]) paragraphs[1].textContent = translations[lang]['about-p2'];
        if (paragraphs[2]) paragraphs[2].textContent = translations[lang]['about-p3'];
        if (paragraphs[3]) paragraphs[3].textContent = translations[lang]['about-p4'];
        
        const infoItems = aboutSection.querySelectorAll('.info-item');
        if (infoItems[0]) {
            infoItems[0].querySelector('.label').textContent = translations[lang]['about-dob-label'];
            infoItems[0].querySelector('.value').textContent = translations[lang]['about-dob-value'];
        }
        if (infoItems[1]) {
            infoItems[1].querySelector('.label').textContent = translations[lang]['about-nationality-label'];
            infoItems[1].querySelector('.value').textContent = translations[lang]['about-nationality-value'];
        }
        if (infoItems[2]) {
            infoItems[2].querySelector('.label').textContent = translations[lang]['about-profession-label'];
            infoItems[2].querySelector('.value').textContent = translations[lang]['about-profession-value'];
        }
        
        const expBadge = aboutSection.querySelector('.experience-badge .text');
        if (expBadge) expBadge.textContent = translations[lang]['experience-years'];
    }
    
    // Update career section
    const careerSection = document.querySelector('#trayectoria');
    if (careerSection) {
        const tag = careerSection.querySelector('.section-tag');
        const title = careerSection.querySelector('.section-title');
        
        if (tag) tag.textContent = translations[lang]['career-tag'];
        if (title) title.textContent = translations[lang]['career-title'];
        
        const tabBtns = careerSection.querySelectorAll('.tab-btn');
        tabBtns.forEach(btn => {
            const tab = btn.getAttribute('data-tab');
            if (tab === 'triatlon') btn.innerHTML = '<i class="fas fa-medal"></i> ' + translations[lang]['tab-triatlon'];
            if (tab === 'ciclismo') btn.innerHTML = '<i class="fas fa-bicycle"></i> ' + translations[lang]['tab-ciclismo'];
            if (tab === 'baloncesto') btn.innerHTML = '<i class="fas fa-basketball-ball"></i> ' + translations[lang]['tab-baloncesto'];
        });
        
        // Update badges
        const triatlonBadge = document.querySelector('#triatlon .sport-badge');
        if (triatlonBadge) triatlonBadge.textContent = translations[lang]['triatlon-badge'];
        
        const ciclismoBadge = document.querySelector('#ciclismo .sport-badge');
        if (ciclismoBadge) ciclismoBadge.textContent = translations[lang]['cycling-badge'];
        
        const baloncestoBadge = document.querySelector('#baloncesto .sport-badge');
        if (baloncestoBadge) baloncestoBadge.textContent = translations[lang]['basketball-badge'];
        
        const objTitle = document.querySelector('.objectives h4');
        if (objTitle) objTitle.innerHTML = '<i class="fas fa-bullseye"></i> ' + translations[lang]['objectives-title'];
    }
    
    // Update sponsors section
    const sponsorsSection = document.querySelector('#sponsors');
    if (sponsorsSection) {
        const tag = sponsorsSection.querySelector('.section-tag');
        const title = sponsorsSection.querySelector('.section-title');
        
        if (tag) tag.textContent = translations[lang]['sponsors-tag'];
        if (title) title.textContent = translations[lang]['sponsors-title'];
    }
    
    // Update services section
    const servicesSection = document.querySelector('#servicios');
    if (servicesSection) {
        const tag = servicesSection.querySelector('.section-tag');
        const title = servicesSection.querySelector('.section-title');
        const subtitle = servicesSection.querySelector('.section-subtitle');
        
        if (tag) tag.textContent = translations[lang]['services-tag'];
        if (title) title.textContent = translations[lang]['services-title'];
        if (subtitle) subtitle.textContent = translations[lang]['services-subtitle'];
        
        const serviceCards = servicesSection.querySelectorAll('.service-card');
        if (serviceCards[0]) {
            serviceCards[0].querySelector('h3').textContent = translations[lang]['service1-title'];
            serviceCards[0].querySelector('p').textContent = translations[lang]['service1-desc'];
            const features = serviceCards[0].querySelectorAll('.service-features li');
            features[0].innerHTML = '<i class="fas fa-check"></i> ' + translations[lang]['service1-f1'];
            features[1].innerHTML = '<i class="fas fa-check"></i> ' + translations[lang]['service1-f2'];
            features[2].innerHTML = '<i class="fas fa-check"></i> ' + translations[lang]['service1-f3'];
            features[3].innerHTML = '<i class="fas fa-check"></i> ' + translations[lang]['service1-f4'];
            serviceCards[0].querySelector('.service-btn').textContent = translations[lang]['service-btn'];
        }
        if (serviceCards[1]) {
            const featuredBadge = serviceCards[1].querySelector('.featured-badge');
            if (featuredBadge) featuredBadge.textContent = translations[lang]['popular'];
            serviceCards[1].querySelector('h3').textContent = translations[lang]['service2-title'];
            const paragraphs = serviceCards[1].querySelectorAll('p');
            paragraphs[0].textContent = translations[lang]['service2-desc'];
            const features = serviceCards[1].querySelectorAll('.service-features li');
            features[0].innerHTML = '<i class="fas fa-check"></i> ' + translations[lang]['service2-f1'];
            features[1].innerHTML = '<i class="fas fa-check"></i> ' + translations[lang]['service2-f2'];
            features[2].innerHTML = '<i class="fas fa-check"></i> ' + translations[lang]['service2-f3'];
            features[3].innerHTML = '<i class="fas fa-check"></i> ' + translations[lang]['service2-f4'];
            serviceCards[1].querySelector('.service-btn').textContent = translations[lang]['service-btn'];
        }
        if (serviceCards[2]) {
            serviceCards[2].querySelector('h3').textContent = translations[lang]['service3-title'];
            serviceCards[2].querySelector('p').textContent = translations[lang]['service3-desc'];
            const features = serviceCards[2].querySelectorAll('.service-features li');
            features[0].innerHTML = '<i class="fas fa-check"></i> ' + translations[lang]['service3-f1'];
            features[1].innerHTML = '<i class="fas fa-check"></i> ' + translations[lang]['service3-f2'];
            features[2].innerHTML = '<i class="fas fa-check"></i> ' + translations[lang]['service3-f3'];
            features[3].innerHTML = '<i class="fas fa-check"></i> ' + translations[lang]['service3-f4'];
            serviceCards[2].querySelector('.service-btn').textContent = translations[lang]['service-btn'];
        }
    }
    
    // Update gallery section
    const gallerySection = document.querySelector('#galeria');
    if (gallerySection) {
        const tag = gallerySection.querySelector('.section-tag');
        const title = gallerySection.querySelector('.section-title');
        
        if (tag) tag.textContent = translations[lang]['gallery-tag'];
        if (title) title.textContent = translations[lang]['gallery-title'];
    }
    
    // Update contact section
    const contactSection = document.querySelector('#contacto');
    if (contactSection) {
        const tag = contactSection.querySelector('.section-tag');
        const title = contactSection.querySelector('.section-title');
        const desc = contactSection.querySelector('.section-header p');
        
        if (tag) tag.textContent = translations[lang]['contact-tag'];
        if (title) title.textContent = translations[lang]['contact-title'];
        if (desc) desc.textContent = translations[lang]['contact-desc'];
        
        // Form labels
        const formGroups = contactSection.querySelectorAll('.form-group');
        formGroups[0].querySelector('label').textContent = translations[lang]['form-name'];
        formGroups[1].querySelector('label').textContent = translations[lang]['form-email'];
        formGroups[2].querySelector('label').textContent = translations[lang]['form-phone'];
        formGroups[3].querySelector('label').textContent = translations[lang]['form-service'];
        formGroups[4].querySelector('label').textContent = translations[lang]['form-message'];
        
        // Select options
        const selectOptions = contactSection.querySelectorAll('#service option');
        if (selectOptions[1]) selectOptions[1].textContent = translations[lang]['form-opt1'];
        if (selectOptions[2]) selectOptions[2].textContent = translations[lang]['form-opt2'];
        if (selectOptions[3]) selectOptions[3].textContent = translations[lang]['form-opt3'];
        if (selectOptions[4]) selectOptions[4].textContent = translations[lang]['form-opt4'];
        
        // Submit button
        const submitBtn = contactSection.querySelector('.submit-btn span');
        if (submitBtn) submitBtn.textContent = translations[lang]['form-submit'];
    }
    
    // Update footer
    const footer = document.querySelector('.footer');
    if (footer) {
        const tagline = footer.querySelector('.footer-tagline');
        const rights = footer.querySelector('.footer-bottom p');
        
        if (tagline) tagline.textContent = translations[lang]['footer-tagline'];
        if (rights) rights.innerHTML = '&copy; ' + translations[lang]['footer-rights'];
    }
    
    // Update active button state
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
    });
}

// DOM Elements
const navbar = document.getElementById('navbar');
const hamburger = document.getElementById('hamburger');
const navMenu = document.getElementById('nav-menu');
const navLinks = document.querySelectorAll('.nav-link');
const tabBtns = document.querySelectorAll('.tab-btn');
const tabContents = document.querySelectorAll('.tab-content');

// Navbar scroll effect
window.addEventListener('scroll', () => {
    if (window.scrollY > 100) {
        navbar.classList.add('scrolled');
    } else {
        navbar.classList.remove('scrolled');
    }
});

// Mobile menu toggle
hamburger.addEventListener('click', () => {
    hamburger.classList.toggle('active');
    navMenu.classList.toggle('active');
});

// Close mobile menu on link click
navLinks.forEach(link => {
    link.addEventListener('click', () => {
        hamburger.classList.remove('active');
        navMenu.classList.remove('active');
    });
});

// Smooth scroll for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            const offsetTop = target.offsetTop - 80;
            window.scrollTo({
                top: offsetTop,
                behavior: 'smooth'
            });
        }
    });
});

// Career tabs functionality
tabBtns.forEach(btn => {
    btn.addEventListener('click', () => {
        // Remove active class from all buttons and contents
        tabBtns.forEach(b => b.classList.remove('active'));
        tabContents.forEach(c => c.classList.remove('active'));
        
        // Add active class to clicked button
        btn.classList.add('active');
        
        // Show corresponding content
        const tabId = btn.getAttribute('data-tab');
        document.getElementById(tabId).classList.add('active');
    });
});

// Lightbox functionality
const lightbox = document.getElementById('lightbox');
const lightboxImage = lightbox.querySelector('.lightbox-image');
const lightboxClose = lightbox.querySelector('.lightbox-close');
const lightboxPrev = lightbox.querySelector('.lightbox-prev');
const lightboxNext = lightbox.querySelector('.lightbox-next');
const galleryItems = document.querySelectorAll('.gallery-item');

let currentImageIndex = 0;
const images = Array.from(galleryItems).map(item => item.querySelector('img').src);

galleryItems.forEach((item, index) => {
    item.addEventListener('click', () => {
        currentImageIndex = index;
        lightboxImage.src = images[currentImageIndex];
        lightbox.classList.add('active');
        document.body.style.overflow = 'hidden';
    });
});

lightboxClose.addEventListener('click', () => {
    lightbox.classList.remove('active');
    document.body.style.overflow = '';
});

lightboxPrev.addEventListener('click', () => {
    currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
    lightboxImage.src = images[currentImageIndex];
});

lightboxNext.addEventListener('click', () => {
    currentImageIndex = (currentImageIndex + 1) % images.length;
    lightboxImage.src = images[currentImageIndex];
});

lightbox.addEventListener('click', (e) => {
    if (e.target === lightbox) {
        lightbox.classList.remove('active');
        document.body.style.overflow = '';
    }
});

// Keyboard navigation for lightbox
document.addEventListener('keydown', (e) => {
    if (!lightbox.classList.contains('active')) return;
    
    if (e.key === 'Escape') {
        lightbox.classList.remove('active');
        document.body.style.overflow = '';
    } else if (e.key === 'ArrowLeft') {
        currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
        lightboxImage.src = images[currentImageIndex];
    } else if (e.key === 'ArrowRight') {
        currentImageIndex = (currentImageIndex + 1) % images.length;
        lightboxImage.src = images[currentImageIndex];
    }
});

// Contact form handling
const contactForm = document.getElementById('contact-form');

contactForm.addEventListener('submit', (e) => {
    e.preventDefault();
    
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const phone = document.getElementById('phone').value;
    const service = document.getElementById('service').value;
    const message = document.getElementById('message').value;
    
    // Create WhatsApp message
    const whatsappMessage = encodeURIComponent(
        `*Nuevo mensaje desde la web*\n\n` +
        `*Nombre:* ${name}\n` +
        `*Email:* ${email}\n` +
        `*Teléfono:* ${phone || 'No proporcionado'}\n` +
        `*Servicio:* ${service}\n` +
        `*Mensaje:* ${message}`
    );
    
    // Open WhatsApp
    window.open(`https://wa.me/56992313861?text=${whatsappMessage}`, '_blank');
    
    // Also submit to Formspree for email backup
    fetch(contactForm.action, {
        method: 'POST',
        body: new FormData(contactForm),
        headers: {
            'Accept': 'application/json'
        }
    });
    
    // Reset form
    contactForm.reset();
    
    // Show success message
    alert(currentLang === 'es' ? '¡Mensaje enviado! Te contactaré pronto.' : 'Message sent! I will contact you soon.');
});

// Intersection Observer for scroll animations
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('animate');
        }
    });
}, observerOptions);

// Observe elements for animation
document.querySelectorAll('.section-header, .about-content, .service-card, .gallery-item, .contact-wrapper, .sponsor-card').forEach(el => {
    observer.observe(el);
});

// Language switcher event listeners
document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        const lang = btn.getAttribute('data-lang');
        switchLanguage(lang);
    });
});

// Initialize language - always start with Spanish
document.addEventListener('DOMContentLoaded', () => {
    switchLanguage('es');
});
